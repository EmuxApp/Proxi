<!DOCTYPE html>
<!--
    Proxi
 
    Copyright (C) Emux Technologies. All Rights Reserved.
 
    https://emux.app
    Licenced by the Emux Closed-Source Licence, which can be found at LICENCE.md.
-->
<html>
    <head>
        <title>@Proxi</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
        <link rel="shortcut icon" href="media/proxi.png">
        <link rel="stylesheet" href="lib/font.css">
        <link rel="stylesheet" href="lib/mapbox-gl.css">
        <link rel="stylesheet" href="style.css">
        <script src="cordova.js"></script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/firebase-app.js"></script>
        <script src="lib/firebase-analytics.js"></script>
        <script src="lib/firebase-auth.js"></script>
        <script src="lib/firebase-database.js"></script>
        <script src="lib/firebase-storage.js"></script>
        <script src="lib/mapbox-gl.js"></script>
        <script src="lib/latlon-geohash.js"></script>
        <script src="core.js"></script>
        <script src="lang.js"></script>
        <script src="screens.js"></script>
        <script src="map.js"></script>
        <script src="tracking.js"></script>
        <script src="script.js"></script>
        <script src="lang/en_GB.js"></script>
    </head>
    <body>
        <main hidden class="fillScreen center hasBottomButton" id="firstTime_intro">
            <img src="media/graphics/distancing.svg" alt="@Graphic of people practicing social distancing" class="fillWidth" />
            <h1>@Welcome to Proxi</h1>
            <p>
                @Thanks for downloading our app! We're glad to have you part of
                our global team who is helping others to keep their distance.
                We'll quickly guide you through some steps so that you are good
                to go.
            </p>
            <button onclick="screens.moveForward('firstTime_intro', 'firstTime_account');" class="red bottom">@Next</button>
        </main>
        <main hidden class="fillScreen center hasBottomButton" id="firstTime_account">
            <img src="media/graphics/user.svg" alt="@Graphic of phone displaying text messages" class="headerGraphic" />
            <h1>@Create an account</h1>
            <p>
                @We can keep track of your settings and awards, all under your
                account. Enter your details below to sign up!
            </p>
            <input placeholder="@Enter a username" maxlength="20" id="firstTime_username"></input>
            <input type="password" placeholder="@Choose a password" id="firstTime_password"></input>
            <a href="javascript:screens.moveForward('firstTime_account', 'firstTime_signIn');" class="implied buttonLike"><span>@Already got an account?</span> <span class="red">@Sign in</span></a>
            <div>
                <small>@Your username must only contain letters and numbers, and cannot exceed 20 characters.</small>
            </div>
            <button onclick="firstTime_validateAccount();" class="red bottom" id="firstTime_validateAccount">@Next</button>
        </main>
        <main hidden class="fillScreen center hasBottomButton" id="firstTime_signIn">
            <img src="media/graphics/user.svg" alt="@Graphic of phone displaying text messages" class="headerGraphic" />
            <h1>@Sign into your account</h1>
            <p>
                @Sign back into your account to continue to enjoy Proxi!
            </p>
            <input placeholder="@Enter your username" maxlength="20" id="firstTime_signInUsername"></input>
            <input type="password" placeholder="@Enter your password" id="firstTime_signInPassword"></input>
            <a href="javascript:screens.moveBack('firstTime_signIn', 'firstTime_account');" class="implied buttonLike"><span>@Don't have an account yet?</span> <span class="red">@Create account</span></a>
            <button onclick="firstTime_signIn();" class="red bottom" id="firstTime_signInButton">@Sign in</button>
        </main>
        <main hidden class="fillScreen center" id="firstTime_dataUsage">
            <img src="media/graphics/data.svg" alt="@Graphic of phone displaying text messages" class="headerGraphicSmaller" />
            <h1>@Understand how we use your data</h1>
            <p class="start">
                <strong>@We care about your privacy.</strong>
                <span>
                    @Emux Technologies has taken special measures to ensure
                    that your data is safe and secure from others, and we want
                    to put you in control of your data at all times.
                </span>
            </p>
            <ul class="start">
                <li>
                    <strong>@We'll only track your location when you're at home.</strong>
                    <span>
                        @We track the location of everyone anonymously, and 
                        record historical data in a way that makes you
                        untrackable.
                    </span>
                </li>
                <li>
                    <strong>@We only share your data with organisations that you trust.</strong>
                    <span>
                        @You can choose which organisations you wish to share
                        your data with. You can opt out at any time, and at the
                        tap of a button.
                    </span>
                </li>
                <li>
                    <strong>@You have control over the storage of your data.</strong>
                    <span>
                        @We let you download or delete your data at any time
                        (with the exception of historical data where it is
                        impossible to connect you to previously-recorded data).
                    </span>
                </li>
            </ul>
            <p>
                @By using Proxi, you accept our <a href="#" target="_blank">
                Terms of Service</a> and <a href="#" target="_blank">Privacy
                Policy</a>.
            </p>
            <!-- TODO: Add screen that shows Terms of Service, as well as another one for Privacy Policy -->
            <button onclick="firstTime_accept();" class="red fillWidth" id="firstTime_accept">@Accept</button>
        </main>
        <main hidden class="fillScreen center" id="firstTime_homeAddress">
            <img src="media/graphics/home.svg" alt="@Graphic of phone displaying text messages" class="headerGraphic" />
            <h1>@Set your home address</h1>
            <p>
                @We won't track you when you're within 20m of your home address.
            </p>
            <input placeholder="@What's your address?" onkeyup="firstTime_homeAddressList();" id="firstTime_homeAddressInput"></input>
            <a href="javascript:firstTime_homeAddressSetCurrent();" class="implied buttonLike"><span class="red">@I'm already at home</span></a>
            <section class="options" id="firstTime_homeAddressList"></div>
        </main>
        <main hidden class="noNav" id="home">
            <header class="home">
                <h1>@Proxi</h1>
                <p class="tagline">@Keep your distance</p><br>
                <button onclick="tracking.toggleAlerts();" class="alerts" aria-label="@Turn alerts on"><icon aria-hidden="true">power_settings_new</icon></button>
                <p class="alertsStatus">@Currently not alerting you</p>
            </header>
            <section class="options">
                <button>
                    <span>@Alert mode</span>
                    <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    <span>@Vibrate</span>
                </button>
                <button>
                    <span>@Family contacts</span>
                    <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    <span>0</span>
                </button>
                <button>
                    <span>@Data sharing</span>
                    <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    <span>0</span>
                </button>
            </section>
        </main>
        <main hidden id="map">
            <nav>
                <button onclick="screens.moveBack('map', 'home');"><icon class="flippable" aria-hidden="true">arrow_back_ios</icon> <span>@Back</span></button>
                <span>@Map</span>
            </nav>
            <div dir="ltr" id="mapContent"></div>
            <div id="mapInfo">
                <span class="homeDistance">@{0} mi from home|0</span>
                <span class="homeOut">@Out for {0} mins|0</span>
            </div>
        </main>
        <main hidden id="awards">
            <nav class="red">
                <button onclick="screens.moveBack('awards', 'home');"><icon class="flippable" aria-hidden="true">arrow_back_ios</icon> <span>@Back</span></button>
                <span>@Awards</span>
            </nav>
            <div class="content">
                <header class="awards">
                    <a href="javascript:void(0);" class="implied"><span>@Username</span> <icon aria-label="@Edit">edit</icon></a>
                    <img src="media/levels/1.svg" class="level" />
                </header>
                <div class="center">
                    <h1 class="level">@Level {0}|1</h1>
                    <progress min="0" max="100" value="65" class="red"></progress>
                    <span class="red">@{0} points|65</span>
                </div>
                <h2 class="optionHeader">Achievements</h2>
                <section class="options">
                    <button class="achievement">
                        <icon aria-hidden="true" class="thumbnail">store</icon>
                        <span class="points" aria-label="@{0} points|10">10</span>
                        <strong>Quickest Shop Ever!</strong>
                        <span>Go to the shop and come back home in 10 minutes.</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                    <button class="achievement">
                        <icon aria-hidden="true" class="thumbnail">nature_local</icon>
                        <span class="points" aria-label="@{0} points|10">10</span>
                        <strong>A Solitary Walk</strong>
                        <span>Keep a 10m distance from others when at the park.</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                </section>
                <h2 class="optionHeader">Next goals</h2>
                <section class="options">
                    <button class="achievement">
                        <icon aria-hidden="true" class="thumbnail">house</icon>
                        <span class="points" aria-label="@{0} points|10">10</span>
                        <strong>Staying In</strong>
                        <span>Stay indoors for 3 days in a row.</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                </section>
            </div>
        </main>
        <main hidden id="settings">
            <nav class="green">
                <button onclick="screens.moveBack('settings', 'home');"><icon class="flippable" aria-hidden="true">arrow_back_ios</icon> <span>@Back</span></button>
                <span>@Settings</span>
            </nav>
            <div class="content">
                <header class="settings">
                    <img src="media/profile.svg" alt="" class="profile" />
                    <h1>Oliver Jackson</h1>
                    <p>07700 982415</p>
                    <button class="green">@Edit info</button>
                    <button onclick="signOut();" class="green">@Sign out</button>
                </header>
                <section class="options">
                    <button>
                        <span>@Your data</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                    <button>
                        <span>@Geolocation options</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                    <button>
                        <span>@Notifications</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                </section>
                <section class="options">
                    <button>
                        <span>@About Proxi</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                    <button>
                        <span>@Terms of Service</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                    <button>
                        <span>@Privacy Policy</span>
                        <icon class="flippable" aria-hidden="true">arrow_forward_ios</icon>
                    </button>
                </section>
                <div class="signature">
                    <img src="media/emuxText.svg" alt="Emux" />
                    <small aria-label="@Made with love in Norwich, United Kingdom">@Made with &#x2764; in Norwich, United Kingdom</small>
                </div>
            </div>
        </main>
        <footer>
            <a href="javascript:screens.switch('home');" class="selected" data-screen="home">
                <icon aria-hidden="true">home</icon>
                <span>@Home</span>
            </a>
            <a href="javascript:screens.switch('map');" data-screen="map">
                <icon aria-hidden="true">map</icon>
                <span>@Map</span>
            </a>
            <a href="javascript:screens.switch('awards');" data-screen="awards">
                <icon aria-hidden="true">emoji_events</icon>
                <span>@Awards</span>
            </a>
            <a href="javascript:screens.switch('settings');" data-screen="settings">
                <icon aria-hidden="true">settings</icon>
                <span>@Settings</span>
            </a>
        </footer>
        <div id="loader">
            <img src="media/proxi.svg" alt="@Proxi is loading..." />
            <h1>@Proxi</h1>
            <p>@Keep your distance</p>
        </div>
    </body>
</html>